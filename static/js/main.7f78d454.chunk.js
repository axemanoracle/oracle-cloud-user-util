(this["webpackJsonporacle-cloud-user-util"]=this["webpackJsonporacle-cloud-user-util"]||[]).push([[0],{10:function(e,a,n){},11:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),s=n(2),o=n.n(s),l=(n(10),n(4)),u=n(3),c=n.n(u);var i=function(e){return c()(window).sanitize(e)};var d=function(e){var a=Object(t.useState)(""),n=Object(l.a)(a,2),s=n[0],o=n[1],u=function(e,a,n,t){var r=new Headers;return r.append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("Authorization","Basic "+window.btoa(e.username+":"+e.password)),new Request(e.baseUrl+a,{method:n,headers:r,credentials:"same-origin",body:t})};return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Bulk Update Oracle Cloud User Passwords"),r.a.createElement("div",null,"Base URL"),r.a.createElement("input",{id:"baseUrl",placeholder:"e.g. https://eslj.fa.ocs.oraclecloud.com",value:"https://fa-eomj-dev1-saasfaprod1.fa.ocs.oraclecloud.com"}),r.a.createElement("div",null,"Username"),r.a.createElement("input",{id:"username",placeholder:"Enter application username",value:"technical.user"}),r.a.createElement("div",null,"Password"),r.a.createElement("input",{type:"password",id:"password",placeholder:"Enter application user password",value:"Welcome@123"}),r.a.createElement("div",null,"Payload"),r.a.createElement("textarea",{id:"usersList",placeholder:"Enter list of username/new_password"}),r.a.createElement("div",null,r.a.createElement("button",{name:"submit",onClick:function(e){var a=function(){var e=i(document.getElementById("usersList").value),a=i(document.getElementById("baseUrl").value),n=i(document.getElementById("username").value),t=i(document.getElementById("password").value),r=e.split("\n"),s=[];return r.forEach((function(e){var a=e.split("/");s.push({oraUsername:a[0],oraPassword:a[1]})})),{baseUrl:a,username:n,password:t,oraCreds:s}}(),n=u(a,"/hcmRestApi/scim/Users","GET");fetch(n).then((function(e){if(e.ok)return e.json();throw new Error("Bad HTTP Request")})).then((function(e){var n=e.Resources,t=a.oraCreds.map((function(e){return e.oraUsername})),r=new Map;a.oraCreds.forEach((function(e){return r.set(e.oraUsername,e.oraPassword)}));var s=n.filter((function(e){return t.includes(e.userName)})),l=[];s.forEach((function(e){l.push({method:"PATCH",path:"/Users/"+e.id,bulkId:"restBulkUploadId1",data:{schemas:["urn:scim:schemas:core:2.0:User"],password:r.get(e.userName)}})}));var c={Operations:l},i=u(a,"/hcmRestApi/scim/Bulk","POST",JSON.stringify(c));fetch(i).then((function(e){if(e.ok)return e.json();throw new Error("Invalid request. Error in response.")})).then((function(e){o(JSON.stringify(e))}))}))}},"Submit"))),r.a.createElement("div",{id:"updateResponse",className:"console"}," ",s," "))};function m(e){return r.a.createElement("div",null,r.a.createElement(d,null))}o.a.render(r.a.createElement(m,null),document.getElementById("root"))},5:function(e,a,n){e.exports=n(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.7f78d454.chunk.js.map