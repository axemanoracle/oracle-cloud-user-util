(this["webpackJsonporacle-cloud-user-util"]=this["webpackJsonporacle-cloud-user-util"]||[]).push([[0],{10:function(e,a,t){},11:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(2),o=t.n(s),l=(t(10),t(4)),u=t(3),c=t.n(u);var i=function(e){return c()(window).sanitize(e)};var d=function(e){var a=Object(n.useState)(""),t=Object(l.a)(a,2),s=t[0],o=t[1],u=function(e,a,t,n){var r=new Headers;return r.append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("Authorization","Basic "+window.btoa(e.username+":"+e.password)),new Request(e.baseUrl+a,{method:t,headers:r,credentials:"same-origin",body:n})};return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Bulk Update Oracle Cloud User Passwords"),r.a.createElement("div",null,"Base URL"),r.a.createElement("input",{id:"baseUrl",placeholder:"e.g. https://eslj.fa.ocs.oraclecloud.com",value:"https://fa-eomj-dev1-saasfaprod1.fa.ocs.oraclecloud.com"}),r.a.createElement("div",null,"Username"),r.a.createElement("input",{id:"username",placeholder:"Enter application username",value:"technical.user"}),r.a.createElement("div",null,"Password"),r.a.createElement("input",{type:"password",id:"password",placeholder:"Enter application user password",value:"Welcome@123"}),r.a.createElement("div",null,"Payload"),r.a.createElement("textarea",{id:"usersList",placeholder:"Enter list of username/new_password",value:"Parag.Parate@cloudworks.co/PEST1234"}),r.a.createElement("div",null,r.a.createElement("button",{name:"submit",onClick:function(e){var a=function(){var e=i(document.getElementById("usersList").value),a=i(document.getElementById("baseUrl").value),t=i(document.getElementById("username").value),n=i(document.getElementById("password").value),r=e.split("\n"),s=[];return r.forEach((function(e){var a=e.split("/");s.push({oraUsername:a[0],oraPassword:a[1]})})),{baseUrl:a,username:t,password:n,oraCreds:s}}(),t=u(a,"/hcmRestApi/scim/Users","GET");fetch(t).then((function(e){if(e.ok)return e.json();throw new Error("Bad HTTP Request")})).then((function(e){var t=e.Resources,n=a.oraCreds.map((function(e){return e.oraUsername})),r=new Map;a.oraCreds.forEach((function(e){return r.set(e.oraUsername,e.oraPassword)}));var s=t.filter((function(e){return n.includes(e.userName)})),l=[];s.forEach((function(e){l.push({method:"PATCH",path:"/Users/"+e.id,bulkId:"restBulkUploadId1",data:{schemas:["urn:scim:schemas:core:2.0:User"],password:r.get(e.userName)}})}));var c={Operations:l},i=u(a,"/hcmRestApi/scim/Bulk","POST",JSON.stringify(c));fetch(i).then((function(e){if(e.ok)return e.json();throw new Error("Invalid request. Error in response.")})).then((function(e){o(JSON.stringify(e))}))}))}},"Submit"))),r.a.createElement("div",{id:"updateResponse",className:"console"}," ",s," "))};function m(e){return r.a.createElement("div",null,r.a.createElement(d,null))}o.a.render(r.a.createElement(m,null),document.getElementById("root"))},5:function(e,a,t){e.exports=t(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.34619d66.chunk.js.map