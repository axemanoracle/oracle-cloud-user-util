(this["webpackJsonporacle-cloud-user-util"]=this["webpackJsonporacle-cloud-user-util"]||[]).push([[0],{10:function(e,n,t){},11:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),s=t(2),o=t.n(s),l=(t(10),t(4)),u=t(3),c=t.n(u);var i=function(e){return c()(window).sanitize(e)};var d=function(e){var n=Object(a.useState)(""),t=Object(l.a)(n,2),s=t[0],o=t[1],u=function(e,n,t,a){var r=new Headers;return r.append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("Authorization","Basic "+window.btoa(e.username+":"+e.password)),new Request(e.baseUrl+n,{method:t,headers:r,credentials:"same-origin",body:a})};return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Bulk Update Oracle Cloud User Passwords"),r.a.createElement("div",null,"Base URL"),r.a.createElement("input",{id:"baseUrl",placeholder:"e.g. https://eslj.fa.ocs.oraclecloud.com"}),r.a.createElement("div",null,"Username"),r.a.createElement("input",{id:"username",placeholder:"Enter application username"}),r.a.createElement("div",null,"Password"),r.a.createElement("input",{type:"password",id:"password",placeholder:"Enter application user password"}),r.a.createElement("div",null,"Payload"),r.a.createElement("textarea",{id:"usersList",placeholder:"Enter list of username/new_password"}),r.a.createElement("div",null,r.a.createElement("button",{name:"submit",onClick:function(e){var n=function(){var e=i(document.getElementById("usersList").value),n=i(document.getElementById("baseUrl").value),t=i(document.getElementById("username").value),a=i(document.getElementById("password").value),r=e.split("\n"),s=[];return r.forEach((function(e){var n=e.split("/");s.push({oraUsername:n[0],oraPassword:n[1]})})),{baseUrl:n,username:t,password:a,oraCreds:s}}(),t=u(n,"/hcmRestApi/scim/Users","GET");fetch(t).then((function(e){if(e.ok)return e.json();throw new Error("Bad HTTP Request")})).then((function(e){var t=e.Resources,a=n.oraCreds.map((function(e){return e.oraUsername})),r=new Map;n.oraCreds.forEach((function(e){return r.set(e.oraUsername,e.oraPassword)}));var s=t.filter((function(e){return a.includes(e.userName)})),l=[];s.forEach((function(e){l.push({method:"PATCH",path:"/Users/"+e.id,bulkId:"restBulkUploadId1",data:{schemas:["urn:scim:schemas:core:2.0:User"],password:r.get(e.userName)}})}));var c={Operations:l},i=u(n,"/hcmRestApi/scim/Bulk","POST",JSON.stringify(c));fetch(i).then((function(e){if(e.ok)return e.json();throw new Error("Invalid request. Error in response.")})).then((function(e){o(JSON.stringify(e))}))}))}},"Submit"))),r.a.createElement("div",{id:"updateResponse",className:"console"}," ",s," "))};function m(e){return r.a.createElement("div",null,r.a.createElement(d,null))}o.a.render(r.a.createElement(m,null),document.getElementById("root"))},5:function(e,n,t){e.exports=t(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.66b8ea61.chunk.js.map